$TIME_FACTOR = 1;
$VIDEO_START_AT = 0;

@keyframes animationNormalFade {
  0% { opacity: 0; }
  12% { opacity: 1; }
  90% { opacity: 1; }
  100% { opacity: 0; }
}

$start_at_with_factor = $VIDEO_START_AT * $TIME_FACTOR;

/*

percentage = 32.5
transform = `
rotate(-16deg) translate(-10.2%, -68.1%) scale(1.45)
`
x = percentage/100*7 + 86.75; window.player.seek(x)
document.querySelector('#text26').style.transform = transform
document.querySelector('#text26').style.animation = 'none'
document.querySelector('#text26').style.opacity = 1

*/
@keyframes logoAnimation {
  0% { // 87s
    opacity: 0;
    transform: rotate(-21deg) translate(-11.6%, -400%) scale(1.6);
  }
  15% {
    transform: rotate(-21deg) translate(-11.6%, -297%) scale(1.6);
  }
  17% {
    opacity: .5;
    transform: rotate(-21deg) translate(-11.6%, -261%) scale(1.58);
  }
  19% {
    transform: rotate(-21.5deg) translate(-11.6%, -225%) scale(1.56);
  }
  20% {
    transform: rotate(-21.5deg) translate(-11.6%, -207%) scale(1.54);
  }
  22% {
    opacity: .75;
    transform: rotate(-21.5deg) translate(-11.6%, -181%) scale(1.52);
  }
  23% {
    transform: rotate(-21.4deg) translate(-11.6%, -163%) scale(1.5);
  }
  24% {
    transform: rotate(-21deg) translate(-11.6%, -147%) scale(1.5);
  }
  25% {
    opacity: 1;
    transform: rotate(-20deg) translate(-11.6%, -130%) scale(1.5);
  }
  26% {
    transform: rotate(-19.7deg) translate(-11.32%, -112%) scale(1.45);
  }
  30% {
    transform: rotate(-16deg) translate(-10.2%, -68.1%) scale(1.45);
  }
  32.5% {
    transform: rotate(-14.6deg) translate(-9.35%, -47%) scale(1.4);
  }
  35% {
    transform: rotate(-12.7deg) translate(-8.5%, -29.8%) scale(1.3);
  }
  37.5% {
    transform: rotate(-10.9deg) translate(-7.4%, -17.8%) scale(1.25);
  }
  40% {
    transform: rotate(-8deg) translate(-6.3%, -8.8%) scale(1.2);
  }
  42.5% {
    transform: rotate(-7deg) translate(-5.2%, -4.3%) scale(1.15);
  }
  45% {
    transform: rotate(-6deg) translate(-4.9%, -1.6%) scale(1.1);
  }
  47.5% {
    transform: rotate(-5deg) translate(-4.3%, -1.6%) scale(1.05);
  }
  50% {
    transform: rotate(-4deg) translate(-3.5%, -0.4%) scale(1);
  }
  55% {
    transform: rotate(-3.1deg) translate(-3.1%, 0.4%) scale(0.99);
  }
  60% {
    transform: rotate(-2.7deg) translate(-2.6%, 0.4%) scale(0.985);
  }
  70% {
    transform: rotate(-1deg) translate(-1.1%, 0%) scale(0.97);
  }
  80% {
    transform: rotate(0deg) translate(-0.3%, 0px) scale(0.96);
  }
  90% {
    transform: rotate(0deg) translate(0%, 1.5%) scale(0.94);
  }
  98% {
    transform: rotate(0deg) translate(0%, 1.1%) scale(0.92);

    // glow increase
    opacity: 1;
  }
  99% {
    opacity: 0;
  }
  100% { // 94s
    transform: rotate(0deg) translate(0%, 1.1%) scale(0.92);
  }
}

$strokeSize= 2px;
$strokeBlur= 2px;
$blackAlpha= #000000ff;
$colorAlpha= #bf8339ff;
$whiteAlpha= #ffffffff;
$animationTextColor= #efe7dd;

#text26 {
  logoGlowStyle()
  // border: 2px solid red;
  // opacity: 1;
}

.animate {
  text-shadow:
    -1px -1px $strokeBlur $blackAlpha,
    -1px 0 $strokeBlur $blackAlpha,
    -1px 2px $strokeBlur $blackAlpha,
    0 2px $strokeBlur black,
    2px 2px $strokeBlur black,
    2px 0 $strokeBlur black,
    1px -1px $strokeBlur $blackAlpha,
    0 -1px $strokeBlur $blackAlpha,
    -1px -1px 2px $colorAlpha,
    -1px 0 2px $colorAlpha,
    0 -1px 2px $colorAlpha,
    -1px -1px 1px $whiteAlpha;
  color: $animationTextColor;
  white-space: pre-line;
  letter-spacing: .4em;
  line-height: 1.5;

  .video-overlay__content {
    display: flex;
    justify-content: center;
    align-items: center;

    > div {
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      animation-fill-mode: forwards;
      // background-color: rgba(255,255,255,0.2); // uncomment to show text box for development
    }
  }

  #text0  { animation: animationNormalFade $TIME_FACTOR * 4s linear $TIME_FACTOR * 4.4s - $start_at_with_factor; }
  #text1  { animation: animationNormalFade $TIME_FACTOR * 4s linear $TIME_FACTOR * 6.7s - $start_at_with_factor; }
  #text2  { animation: animationNormalFade $TIME_FACTOR * 4s linear $TIME_FACTOR * 9s - $start_at_with_factor; }
  #text3  { animation: animationNormalFade $TIME_FACTOR * 4s linear $TIME_FACTOR * 14.5s - $start_at_with_factor; }
  #text4  { animation: animationNormalFade $TIME_FACTOR * 4s linear $TIME_FACTOR * 16.8s - $start_at_with_factor; }
  #text5  { animation: animationNormalFade $TIME_FACTOR * 4s linear $TIME_FACTOR * 19s - $start_at_with_factor; }
  #text6  { animation: animationNormalFade $TIME_FACTOR * 4s linear $TIME_FACTOR * 21.5s - $start_at_with_factor; }
  #text7  { animation: animationNormalFade $TIME_FACTOR * 4s linear $TIME_FACTOR * 24.9s - $start_at_with_factor; }
  #text8  { animation: animationNormalFade $TIME_FACTOR * 4s linear $TIME_FACTOR * 27.2s - $start_at_with_factor; }
  #text9  { animation: animationNormalFade $TIME_FACTOR * 4s linear $TIME_FACTOR * 29.8s - $start_at_with_factor; }
  #text10 { animation: animationNormalFade $TIME_FACTOR * 4s linear $TIME_FACTOR * 32.2s - $start_at_with_factor; }
  #text11 { animation: animationNormalFade $TIME_FACTOR * 4s linear $TIME_FACTOR * 35.2s - $start_at_with_factor; }
  #text12 { animation: animationNormalFade $TIME_FACTOR * 4s linear $TIME_FACTOR * 38.3s - $start_at_with_factor; }
  #text13 { animation: animationNormalFade $TIME_FACTOR * 4s linear $TIME_FACTOR * 40.6s - $start_at_with_factor; }
  #text14 { animation: animationNormalFade $TIME_FACTOR * 4s linear $TIME_FACTOR * 42.7s - $start_at_with_factor; }
  #text15 { animation: animationNormalFade $TIME_FACTOR * 4s linear $TIME_FACTOR * 45s - $start_at_with_factor; }
  #text16 { animation: animationNormalFade $TIME_FACTOR * 4s linear $TIME_FACTOR * 48.2s - $start_at_with_factor; }
  #text17 { animation: animationNormalFade $TIME_FACTOR * 4s linear $TIME_FACTOR * 50.6s - $start_at_with_factor; }
  #text18 { animation: animationNormalFade $TIME_FACTOR * 4s linear $TIME_FACTOR * 56s - $start_at_with_factor; }
  #text19 { animation: animationNormalFade $TIME_FACTOR * 4s linear $TIME_FACTOR * 59.2s - $start_at_with_factor; }
  #text20 { animation: animationNormalFade $TIME_FACTOR * 4s linear $TIME_FACTOR * 61.1s - $start_at_with_factor; }
  #text21 { animation: animationNormalFade $TIME_FACTOR * 4s linear $TIME_FACTOR * 65.4s - $start_at_with_factor; }
  #text22 { animation: animationNormalFade $TIME_FACTOR * 4s linear $TIME_FACTOR * 67.5s - $start_at_with_factor; }
  #text23 { animation: animationNormalFade $TIME_FACTOR * 4s linear $TIME_FACTOR * 69.5s - $start_at_with_factor; }
  #text24 { animation: animationNormalFade $TIME_FACTOR * 4s linear $TIME_FACTOR * 72.5s - $start_at_with_factor; }
  #text25 { animation: animationNormalFade $TIME_FACTOR * 4s linear $TIME_FACTOR * 79.7s - $start_at_with_factor; }

  #text26 { animation: logoAnimation $TIME_FACTOR * 7s linear $TIME_FACTOR * 86.75s - $start_at_with_factor; }

  #text27 { animation: animationNormalFade $TIME_FACTOR * 2.056s linear $TIME_FACTOR * 94s - $start_at_with_factor; }
  #text28 { animation: animationNormalFade $TIME_FACTOR * 2.056s linear $TIME_FACTOR * 96.2s - $start_at_with_factor; }

}

.pause-animation {
  #text0 { animation-play-state: paused }
  #text1 { animation-play-state: paused }
  #text2 { animation-play-state: paused }
  #text3 { animation-play-state: paused }
  #text4 { animation-play-state: paused }
  #text5 { animation-play-state: paused }
  #text6 { animation-play-state: paused }
  #text7 { animation-play-state: paused }
  #text8 { animation-play-state: paused }
  #text9 { animation-play-state: paused }
  #text10 { animation-play-state: paused }
  #text11 { animation-play-state: paused }
  #text12 { animation-play-state: paused }
  #text13 { animation-play-state: paused }
  #text14 { animation-play-state: paused }
  #text15 { animation-play-state: paused }
  #text16 { animation-play-state: paused }
  #text17 { animation-play-state: paused }
  #text18 { animation-play-state: paused }
  #text19 { animation-play-state: paused }
  #text20 { animation-play-state: paused }
  #text21 { animation-play-state: paused }
  #text22 { animation-play-state: paused }
  #text23 { animation-play-state: paused }
  #text24 { animation-play-state: paused }
  #text25 { animation-play-state: paused }
  #text26 { animation-play-state: paused }
  #text27 { animation-play-state: paused }
  #text28 { animation-play-state: paused }
}

.rendered-logo {
  padding-top: .5em;
  letter-spacing: .1em;
  font-size: 2.5em;
  font-family: GameOfThrones;
  line-height: 1.4em;

  .capitalize {
    font-size: 150%;
  }

  .small-text {
    position: relative;
    top: -.5em;
    font-size: 70%;
  }

  .rest-of-word {
    position: relative;
    top: -.25em;
  }
}
